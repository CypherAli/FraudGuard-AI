<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="FraudGuardAI.Pages.PhoneAuthPage"
             Title="ÄÄƒng nháº­p báº±ng sá»‘ Ä‘iá»‡n thoáº¡i"
             BackgroundColor="#F5F5F5">

    <ScrollView>
        <VerticalStackLayout Padding="24" Spacing="20">
            
            <!-- Logo/Header -->
            <Frame BackgroundColor="White" 
                   CornerRadius="16" 
                   Padding="24" 
                   HasShadow="True"
                   Margin="0,20,0,0">
                <VerticalStackLayout Spacing="12">
                    <Label Text="ðŸ”" 
                           FontSize="60" 
                           HorizontalOptions="Center"/>
                    <Label Text="FraudGuard AI" 
                           FontSize="28" 
                           FontAttributes="Bold" 
                           HorizontalTextAlignment="Center"
                           TextColor="#2196F3"/>
                    <Label Text="XÃ¡c thá»±c báº£o máº­t báº±ng SMS" 
                           FontSize="14" 
                           HorizontalTextAlignment="Center"
                           TextColor="Gray"/>
                </VerticalStackLayout>
            </Frame>

            <!-- Phone Number Input Section -->
            <Frame x:Name="PhoneInputFrame" 
                   BackgroundColor="White" 
                   CornerRadius="16" 
                   Padding="20" 
                   HasShadow="True"
                   IsVisible="True">
                <VerticalStackLayout Spacing="16">
                    <Label Text="Nháº­p sá»‘ Ä‘iá»‡n thoáº¡i" 
                           FontSize="18" 
                           FontAttributes="Bold"
                           TextColor="#333333"/>
                    
                    <Label Text="ChÃºng tÃ´i sáº½ gá»­i mÃ£ OTP 6 chá»¯ sá»‘ Ä‘áº¿n sá»‘ Ä‘iá»‡n thoáº¡i cá»§a báº¡n"
                           FontSize="13"
                           TextColor="Gray"/>

                    <!-- Phone Number Entry -->
                    <Frame BorderColor="#E0E0E0" 
                           CornerRadius="8" 
                           Padding="0" 
                           HasShadow="False">
                        <Entry x:Name="PhoneNumberEntry"
                               Placeholder="+84 xxx xxx xxx"
                               Keyboard="Telephone"
                               FontSize="16"
                               TextColor="#333333"
                               PlaceholderColor="Gray"
                               MaxLength="15"/>
                    </Frame>

                    <!-- Send OTP Button -->
                    <Button x:Name="SendOtpButton"
                            Text="Gá»­i mÃ£ OTP"
                            BackgroundColor="#2196F3"
                            TextColor="White"
                            FontSize="16"
                            FontAttributes="Bold"
                            CornerRadius="8"
                            HeightRequest="50"
                            Clicked="OnSendOtpClicked"/>

                    <!-- Loading Indicator -->
                    <ActivityIndicator x:Name="SendingIndicator"
                                     IsRunning="False"
                                     IsVisible="False"
                                     Color="#2196F3"
                                     HeightRequest="40"/>
                </VerticalStackLayout>
            </Frame>

            <!-- OTP Verification Section -->
            <Frame x:Name="OtpVerificationFrame" 
                   BackgroundColor="White" 
                   CornerRadius="16" 
                   Padding="20" 
                   HasShadow="True"
                   IsVisible="False">
                <VerticalStackLayout Spacing="16">
                    <Label Text="Nháº­p mÃ£ OTP" 
                           FontSize="18" 
                           FontAttributes="Bold"
                           TextColor="#333333"/>
                    
                    <Label x:Name="OtpSentLabel"
                           Text="MÃ£ Ä‘Ã£ Ä‘Æ°á»£c gá»­i Ä‘áº¿n +84 xxx xxx xxx"
                           FontSize="13"
                           TextColor="Gray"/>

                    <!-- OTP Code Entry -->
                    <Frame BorderColor="#E0E0E0" 
                           CornerRadius="8" 
                           Padding="0" 
                           HasShadow="False">
                        <Entry x:Name="OtpCodeEntry"
                               Placeholder="Nháº­p 6 chá»¯ sá»‘"
                               Keyboard="Numeric"
                               FontSize="24"
                               TextColor="#333333"
                               PlaceholderColor="Gray"
                               MaxLength="6"
                               HorizontalTextAlignment="Center"
                               FontAttributes="Bold"/>
                    </Frame>

                    <!-- Verify OTP Button -->
                    <Button x:Name="VerifyOtpButton"
                            Text="XÃ¡c thá»±c"
                            BackgroundColor="#4CAF50"
                            TextColor="White"
                            FontSize="16"
                            FontAttributes="Bold"
                            CornerRadius="8"
                            HeightRequest="50"
                            Clicked="OnVerifyOtpClicked"/>

                    <!-- Verifying Indicator -->
                    <ActivityIndicator x:Name="VerifyingIndicator"
                                     IsRunning="False"
                                     IsVisible="False"
                                     Color="#4CAF50"
                                     HeightRequest="40"/>

                    <!-- Resend OTP -->
                    <HorizontalStackLayout Spacing="8" 
                                         HorizontalOptions="Center"
                                         Margin="0,8,0,0">
                        <Label Text="KhÃ´ng nháº­n Ä‘Æ°á»£c mÃ£?" 
                               FontSize="13"
                               TextColor="Gray"
                               VerticalOptions="Center"/>
                        <Button x:Name="ResendOtpButton"
                                Text="Gá»­i láº¡i"
                                BackgroundColor="Transparent"
                                TextColor="#2196F3"
                                FontSize="13"
                                FontAttributes="Bold"
                                Padding="0"
                                Clicked="OnResendOtpClicked"/>
                    </HorizontalStackLayout>

                    <!-- Change Phone Number -->
                    <Button Text="Äá»•i sá»‘ Ä‘iá»‡n thoáº¡i"
                            BackgroundColor="Transparent"
                            TextColor="Gray"
                            FontSize="13"
                            Clicked="OnChangePhoneClicked"/>
                </VerticalStackLayout>
            </Frame>

            <!-- Info Section -->
            <Frame BackgroundColor="#FFF3E0" 
                   CornerRadius="12" 
                   Padding="16" 
                   HasShadow="False"
                   BorderColor="#FFB300">
                <VerticalStackLayout Spacing="8">
                    <Label Text="â„¹ï¸ LÆ°u Ã½ quan trá»ng" 
                           FontSize="14" 
                           FontAttributes="Bold"
                           TextColor="#F57C00"/>
                    <Label FontSize="12" TextColor="#E65100">
                        <Label.FormattedText>
                            <FormattedString>
                                <Span Text="â€¢ Sá»‘ Ä‘iá»‡n thoáº¡i pháº£i theo Ä‘á»‹nh dáº¡ng quá»‘c táº¿ (+84)"/>
                                <Span Text="&#x0a;â€¢ MÃ£ OTP cÃ³ hiá»‡u lá»±c trong 60 giÃ¢y"/>
                                <Span Text="&#x0a;â€¢ CÃ³ thá»ƒ phÃ¡t sinh phÃ­ tin nháº¯n SMS"/>
                                <Span Text="&#x0a;â€¢ ThÃ´ng tin Ä‘Æ°á»£c báº£o máº­t bá»Ÿi Firebase"/>
                            </FormattedString>
                        </Label.FormattedText>
                    </Label>
                </VerticalStackLayout>
            </Frame>

            <!-- Privacy Notice -->
            <Label FontSize="11" 
                   TextColor="Gray" 
                   HorizontalTextAlignment="Center"
                   Margin="0,0,0,20">
                <Label.FormattedText>
                    <FormattedString>
                        <Span Text="Báº±ng cÃ¡ch Ä‘Äƒng nháº­p, báº¡n Ä‘á»“ng Ã½ vá»›i "/>
                        <Span Text="Äiá»u khoáº£n sá»­ dá»¥ng" 
                              TextColor="#2196F3" 
                              TextDecorations="Underline"/>
                        <Span Text=" vÃ  "/>
                        <Span Text="ChÃ­nh sÃ¡ch báº£o máº­t" 
                              TextColor="#2196F3" 
                              TextDecorations="Underline"/>
                        <Span Text=" cá»§a chÃºng tÃ´i"/>
                    </FormattedString>
                </Label.FormattedText>
            </Label>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
