<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="FraudGuardAI.Pages.Auth.LoginPage"
             BackgroundColor="#0D1B2A"
             Shell.NavBarIsVisible="False">

    <ScrollView>
        <VerticalStackLayout Padding="30" Spacing="20" VerticalOptions="Center">
            
            <!-- Logo and Title -->
            <VerticalStackLayout Spacing="10" Margin="0,40,0,30">
                <Label Text="ðŸ›¡ï¸" FontSize="64" HorizontalOptions="Center"/>
                <Label Text="FraudGuard AI" 
                       FontSize="32" 
                       FontAttributes="Bold"
                       TextColor="#E0E6ED"
                       HorizontalOptions="Center"/>
                <Label Text="Báº£o vá»‡ cuá»™c gá»i cá»§a báº¡n" 
                       FontSize="16" 
                       TextColor="#8B95A5"
                       HorizontalOptions="Center"/>
            </VerticalStackLayout>

            <!-- Step 1: Email Input -->
            <VerticalStackLayout x:Name="EmailSection" Spacing="15">
                
                <Frame BackgroundColor="#1B2838" 
                       BorderColor="#2D3E50" 
                       CornerRadius="12" 
                       Padding="20"
                       HasShadow="False">
                    <VerticalStackLayout Spacing="10">
                        <Label Text="ðŸ“§ ÄÄƒng nháº­p báº±ng Email" 
                               TextColor="#34D399"
                               FontSize="16"
                               FontAttributes="Bold"
                               HorizontalOptions="Center"/>
                        <Label Text="Nháº­p email, chÃºng tÃ´i sáº½ gá»­i mÃ£ OTP 6 sá»‘ Ä‘á»ƒ xÃ¡c thá»±c" 
                               TextColor="#8B95A5"
                               FontSize="14"
                               HorizontalTextAlignment="Center"/>
                    </VerticalStackLayout>
                </Frame>

                <!-- Email Input -->
                <VerticalStackLayout Spacing="8">
                    <Label Text="Email cá»§a báº¡n" 
                           TextColor="#E0E6ED" 
                           FontSize="14"
                           FontAttributes="Bold"/>
                    <Frame BackgroundColor="#1B2838" 
                           BorderColor="#2D3E50" 
                           CornerRadius="12" 
                           Padding="0"
                           HasShadow="False">
                        <Entry x:Name="EmailEntry"
                               Placeholder="example@gmail.com"
                               PlaceholderColor="#5C6B7A"
                               TextColor="#E0E6ED"
                               Keyboard="Email"
                               FontSize="16"
                               Margin="15,10"/>
                    </Frame>
                </VerticalStackLayout>

                <!-- Send OTP Button -->
                <Button x:Name="SendOtpButton"
                        Text="ðŸ“¨ Gá»­i mÃ£ OTP"
                        BackgroundColor="#34D399"
                        TextColor="#0D1B2A"
                        FontSize="16"
                        FontAttributes="Bold"
                        CornerRadius="12"
                        HeightRequest="56"
                        Margin="0,10,0,0"
                        Clicked="OnSendOtpClicked">
                    <Button.Shadow>
                        <Shadow Brush="#34D399" Opacity="0.3" Radius="10" Offset="0,4"/>
                    </Button.Shadow>
                </Button>
            </VerticalStackLayout>

            <!-- Step 2: OTP Input (hidden initially) -->
            <VerticalStackLayout x:Name="OtpSection" Spacing="15" IsVisible="False">
                
                <Frame BackgroundColor="#065F46" 
                       BorderColor="#34D399" 
                       CornerRadius="12" 
                       Padding="15"
                       HasShadow="False">
                    <VerticalStackLayout Spacing="8">
                        <Label Text="âœ… MÃ£ OTP Ä‘Ã£ Ä‘Æ°á»£c gá»­i!" 
                               TextColor="#34D399"
                               FontSize="16"
                               FontAttributes="Bold"
                               HorizontalOptions="Center"/>
                        <Label x:Name="OtpSentToLabel"
                               Text="Kiá»ƒm tra email example@gmail.com" 
                               TextColor="#A7F3D0"
                               FontSize="14"
                               HorizontalTextAlignment="Center"/>
                    </VerticalStackLayout>
                </Frame>

                <!-- OTP Input -->
                <VerticalStackLayout Spacing="8">
                    <Label Text="Nháº­p mÃ£ OTP 6 sá»‘" 
                           TextColor="#E0E6ED" 
                           FontSize="14"
                           FontAttributes="Bold"/>
                    <Frame BackgroundColor="#1B2838" 
                           BorderColor="#34D399" 
                           CornerRadius="12" 
                           Padding="0"
                           HasShadow="False">
                        <Entry x:Name="OtpEntry"
                               Placeholder="000000"
                               PlaceholderColor="#5C6B7A"
                               TextColor="#34D399"
                               Keyboard="Numeric"
                               FontSize="28"
                               FontAttributes="Bold"
                               MaxLength="6"
                               HorizontalTextAlignment="Center"
                               Margin="15,15"/>
                    </Frame>
                </VerticalStackLayout>

                <!-- Verify OTP Button -->
                <Button x:Name="VerifyOtpButton"
                        Text="âœ“ XÃ¡c nháº­n Ä‘Äƒng nháº­p"
                        BackgroundColor="#34D399"
                        TextColor="#0D1B2A"
                        FontSize="16"
                        FontAttributes="Bold"
                        CornerRadius="12"
                        HeightRequest="56"
                        Clicked="OnVerifyOtpClicked">
                    <Button.Shadow>
                        <Shadow Brush="#34D399" Opacity="0.3" Radius="10" Offset="0,4"/>
                    </Button.Shadow>
                </Button>

                <!-- Resend & Change Email -->
                <HorizontalStackLayout HorizontalOptions="Center" Spacing="20">
                    <Label x:Name="ResendLabel"
                           Text="ðŸ”„ Gá»­i láº¡i mÃ£"
                           TextColor="#34D399"
                           FontSize="14">
                        <Label.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnResendOtpClicked"/>
                        </Label.GestureRecognizers>
                    </Label>
                    <Label Text="|" TextColor="#5C6B7A"/>
                    <Label Text="âœï¸ Äá»•i email"
                           TextColor="#8B95A5"
                           FontSize="14">
                        <Label.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnChangeEmailClicked"/>
                        </Label.GestureRecognizers>
                    </Label>
                </HorizontalStackLayout>

                <!-- Countdown Timer -->
                <Label x:Name="CountdownLabel"
                       Text="MÃ£ háº¿t háº¡n sau: 5:00"
                       TextColor="#8B95A5"
                       FontSize="12"
                       HorizontalOptions="Center"/>
            </VerticalStackLayout>

            <!-- Error Message -->
            <Label x:Name="ErrorLabel"
                   TextColor="#EF4444"
                   FontSize="14"
                   IsVisible="False"
                   HorizontalOptions="Center"/>

            <!-- Loading Indicator -->
            <ActivityIndicator x:Name="LoadingIndicator"
                             IsRunning="False"
                             IsVisible="False"
                             Color="#34D399"
                             HeightRequest="40"/>

            <!-- Info Text -->
            <VerticalStackLayout Spacing="10" Margin="0,20,0,0">
                <Label Text="ðŸ”’ KhÃ´ng cáº§n máº­t kháº©u" 
                       TextColor="#8B95A5" 
                       FontSize="12"
                       HorizontalTextAlignment="Center"/>
                <Label Text="ðŸ“± ÄÄƒng nháº­p 1 láº§n, dÃ¹ng mÃ£i mÃ£i" 
                       TextColor="#8B95A5" 
                       FontSize="12"
                       HorizontalTextAlignment="Center"/>
            </VerticalStackLayout>

        </VerticalStackLayout>
    </ScrollView>

</ContentPage>
