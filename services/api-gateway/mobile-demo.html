<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FraudGuard AI - Mobile Demo Simulator</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
        rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-primary: #fafbfc;
            --bg-card: #ffffff;
            --border: #e1e4e8;
            --text-primary: #24292e;
            --text-secondary: #586069;
            --text-muted: #6a737d;
            --accent-success: #28a745;
            --accent-warning: #ffd33d;
            --accent-danger: #d73a49;
            --accent-info: #0366d6;
            --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.12);
            --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.5;
            padding: 40px 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            margin-bottom: 32px;
        }

        h1 {
            font-size: 28px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .subtitle {
            font-size: 14px;
            color: var(--text-secondary);
        }

        .demo-layout {
            display: grid;
            grid-template-columns: 400px 1fr;
            gap: 24px;
        }

        /* Mobile Phone Mockup */
        .phone-mockup {
            background: #1a1a1a;
            border-radius: 40px;
            padding: 16px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            height: fit-content;
            position: sticky;
            top: 20px;
        }

        .phone-screen {
            background: #ffffff;
            border-radius: 24px;
            overflow: hidden;
            height: 700px;
            display: flex;
            flex-direction: column;
        }

        .phone-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            text-align: center;
        }

        .phone-header h2 {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .phone-header p {
            font-size: 12px;
            opacity: 0.9;
        }

        .phone-content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }

        .call-status {
            text-align: center;
            padding: 24px;
            background: var(--bg-primary);
            border-radius: 12px;
            margin-bottom: 20px;
        }

        .caller-number {
            font-size: 24px;
            font-weight: 700;
            font-family: 'JetBrains Mono', monospace;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .call-duration {
            font-size: 14px;
            color: var(--text-secondary);
        }

        .alert-box {
            padding: 16px;
            border-radius: 8px;
            margin-bottom: 12px;
            border-left: 4px solid;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .alert-danger {
            background: #ffeef0;
            border-left-color: var(--accent-danger);
        }

        .alert-warning {
            background: #fffbdd;
            border-left-color: var(--accent-warning);
        }

        .alert-success {
            background: #f0fff4;
            border-left-color: var(--accent-success);
        }

        .alert-title {
            font-weight: 600;
            font-size: 14px;
            margin-bottom: 4px;
        }

        .alert-text {
            font-size: 13px;
            color: var(--text-secondary);
        }

        .transcript-box {
            background: var(--bg-primary);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 16px;
            margin-top: 12px;
        }

        .transcript-label {
            font-size: 12px;
            font-weight: 600;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 8px;
        }

        .transcript-text {
            font-size: 14px;
            line-height: 1.6;
            color: var(--text-primary);
        }

        /* Control Panel */
        .control-panel {
            display: flex;
            flex-direction: column;
            gap: 24px;
        }

        .card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 24px;
            box-shadow: var(--shadow-sm);
        }

        .card-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 16px;
            padding-bottom: 12px;
            border-bottom: 1px solid var(--border);
        }

        .scenario-btn {
            width: 100%;
            padding: 14px 16px;
            border: 1px solid var(--border);
            border-radius: 6px;
            background: var(--bg-card);
            color: var(--text-primary);
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 200ms ease;
            margin-bottom: 12px;
            text-align: left;
        }

        .scenario-btn:hover {
            background: var(--bg-primary);
            border-color: var(--accent-info);
            box-shadow: var(--shadow-sm);
        }

        .scenario-btn.active {
            background: var(--accent-info);
            color: white;
            border-color: var(--accent-info);
        }

        .log-container {
            background: var(--bg-primary);
            border: 1px solid var(--border);
            border-radius: 6px;
            padding: 16px;
            height: 400px;
            overflow-y: auto;
            font-family: 'JetBrains Mono', monospace;
            font-size: 12px;
        }

        .log-entry {
            padding: 6px 0;
            color: var(--text-secondary);
        }

        .log-entry.success {
            color: var(--accent-success);
        }

        .log-entry.error {
            color: var(--accent-danger);
        }

        .log-entry.warning {
            color: #735c0f;
        }

        @media (max-width: 1024px) {
            .demo-layout {
                grid-template-columns: 1fr;
            }

            .phone-mockup {
                position: relative;
                top: 0;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <header>
            <h1>FraudGuard AI - Mobile Demo Simulator</h1>
            <p class="subtitle">Mô phỏng cuộc gọi lừa đảo và xem hệ thống AI phát hiện real-time</p>
        </header>

        <div class="demo-layout">
            <!-- Mobile Phone Mockup -->
            <div class="phone-mockup">
                <div class="phone-screen">
                    <div class="phone-header">
                        <h2>FraudGuard AI</h2>
                        <p>Đang bảo vệ bạn</p>
                    </div>
                    <div class="phone-content">
                        <div class="call-status">
                            <div class="caller-number" id="callerNumber">Chưa có cuộc gọi</div>
                            <div class="call-duration" id="callDuration">00:00</div>
                        </div>
                        <div id="alertsContainer"></div>
                        <div class="transcript-box" id="transcriptBox" style="display: none;">
                            <div class="transcript-label">Transcript</div>
                            <div class="transcript-text" id="transcriptText"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Control Panel -->
            <div class="control-panel">
                <div class="card">
                    <h3 class="card-title">Chọn Kịch bản Lừa đảo</h3>
                    <button class="scenario-btn" onclick="runScenario('bank')">
                        <strong>Giả mạo Ngân hàng</strong><br>
                        <small style="color: var(--text-muted);">Yêu cầu xác thực OTP và thông tin thẻ</small>
                    </button>
                    <button class="scenario-btn" onclick="runScenario('police')">
                        <strong>Giả mạo Công an</strong><br>
                        <small style="color: var(--text-muted);">Đe dọa bắt giữ, yêu cầu chuyển tiền</small>
                    </button>
                    <button class="scenario-btn" onclick="runScenario('lottery')">
                        <strong>Trúng thưởng giả</strong><br>
                        <small style="color: var(--text-muted);">Yêu cầu phí để nhận giải</small>
                    </button>
                    <button class="scenario-btn" onclick="runScenario('family')">
                        <strong>Giả mạo người thân</strong><br>
                        <small style="color: var(--text-muted);">Khẩn cấp cần tiền gấp</small>
                    </button>
                    <button class="scenario-btn" onclick="runScenario('safe')">
                        <strong>Cuộc gọi An toàn</strong><br>
                        <small style="color: var(--text-muted);">Không có dấu hiệu lừa đảo</small>
                    </button>
                </div>

                <div class="card">
                    <h3 class="card-title">System Logs</h3>
                    <div class="log-container" id="systemLogs"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const scenarios = {
            bank: {
                number: '+84987654321',
                transcript: 'Xin chào quý khách, đây là bộ phận bảo mật của Vietcombank. Chúng tôi phát hiện giao dịch bất thường trên tài khoản của quý khách. Để bảo vệ tài khoản, quý khách vui lòng cung cấp mã OTP và số thẻ để chúng tôi xác minh.',
                keywords: ['OTP', 'mã xác thực', 'số thẻ', 'giao dịch bất thường'],
                alertType: 'NGÂN HÀNG GIẢ MẠO',
                confidence: 0.95,
                risk: 'danger'
            },
            police: {
                number: '+84123456789',
                transcript: 'Tôi là Đại úy Nguyễn Văn A từ Công an TP.HCM. Anh/chị có liên quan đến một vụ án rửa tiền nghiêm trọng. Nếu không hợp tác và chuyển tiền để chứng minh trong vòng 30 phút, chúng tôi sẽ ra lệnh bắt giữ ngay.',
                keywords: ['công an', 'bắt giữ', 'chuyển tiền', 'rửa tiền', 'vụ án'],
                alertType: 'CÔNG AN GIẢ MẠO',
                confidence: 0.98,
                risk: 'danger'
            },
            lottery: {
                number: '+84999888777',
                transcript: 'Chúc mừng quý khách đã trúng giải đặc biệt 500 triệu đồng từ chương trình khuyến mãi Viettel. Để nhận giải, quý khách vui lòng nộp phí thuế 5 triệu đồng vào tài khoản sau.',
                keywords: ['trúng giải', 'nộp phí', 'chuyển tiền', 'thuế'],
                alertType: 'TRÚNG THƯỞNG GIẢ',
                confidence: 0.92,
                risk: 'danger'
            },
            family: {
                number: '+84888777666',
                transcript: 'Con đây mẹ ơi! Con bị tai nạn xe máy, đang ở bệnh viện cần tiền gấp để phẫu thuật. Mẹ chuyển cho con 20 triệu vào số tài khoản này ngay được không?',
                keywords: ['tai nạn', 'bệnh viện', 'cần tiền gấp', 'chuyển tiền'],
                alertType: 'GIẢ MẠO NGƯỜI THÂN',
                confidence: 0.88,
                risk: 'warning'
            },
            safe: {
                number: '+84901234567',
                transcript: 'Chào anh, em là Minh đây. Hôm nay anh có rảnh không? Mình đi uống cà phê nhé, lâu rồi không gặp.',
                keywords: [],
                alertType: 'AN TOÀN',
                confidence: 0.05,
                risk: 'success'
            }
        };

        let callDuration = 0;
        let callTimer = null;

        function log(message, type = 'info') {
            const logsContainer = document.getElementById('systemLogs');
            const entry = document.createElement('div');
            entry.className = `log-entry ${type}`;
            const timestamp = new Date().toLocaleTimeString('vi-VN');
            entry.textContent = `[${timestamp}] ${message}`;
            logsContainer.insertBefore(entry, logsContainer.firstChild);
        }

        function runScenario(scenarioKey) {
            const scenario = scenarios[scenarioKey];

            // Reset
            document.querySelectorAll('.scenario-btn').forEach(btn => btn.classList.remove('active'));
            event.target.closest('.scenario-btn').classList.add('active');

            // Clear previous alerts
            document.getElementById('alertsContainer').innerHTML = '';
            callDuration = 0;

            // Start call
            document.getElementById('callerNumber').textContent = scenario.number;
            log(`Cuộc gọi đến từ ${scenario.number}`, 'info');

            // Start timer
            if (callTimer) clearInterval(callTimer);
            callTimer = setInterval(() => {
                callDuration++;
                const minutes = Math.floor(callDuration / 60).toString().padStart(2, '0');
                const seconds = (callDuration % 60).toString().padStart(2, '0');
                document.getElementById('callDuration').textContent = `${minutes}:${seconds}`;
            }, 1000);

            // Simulate processing
            setTimeout(() => {
                log('Đang phân tích audio stream...', 'info');
            }, 1000);

            setTimeout(() => {
                log('Deepgram transcription hoàn tất', 'success');

                // Show transcript
                document.getElementById('transcriptBox').style.display = 'block';
                document.getElementById('transcriptText').textContent = scenario.transcript;
            }, 2000);

            setTimeout(() => {
                log('AI đang phân tích nội dung...', 'info');
            }, 3000);

            setTimeout(() => {
                // Show alert
                const alertsContainer = document.getElementById('alertsContainer');
                const alertDiv = document.createElement('div');
                alertDiv.className = `alert-box alert-${scenario.risk}`;

                if (scenario.risk === 'danger') {
                    alertDiv.innerHTML = `
                        <div class="alert-title">⚠️ CẢNH BÁO: ${scenario.alertType}</div>
                        <div class="alert-text">Độ tin cậy: ${(scenario.confidence * 100).toFixed(0)}%</div>
                        <div class="alert-text">Keywords: ${scenario.keywords.join(', ')}</div>
                    `;
                    log(`CẢNH BÁO: ${scenario.alertType} (${(scenario.confidence * 100).toFixed(0)}%)`, 'error');
                } else if (scenario.risk === 'warning') {
                    alertDiv.innerHTML = `
                        <div class="alert-title">⚠️ CHÚ Ý: ${scenario.alertType}</div>
                        <div class="alert-text">Độ tin cậy: ${(scenario.confidence * 100).toFixed(0)}%</div>
                        <div class="alert-text">Keywords: ${scenario.keywords.join(', ')}</div>
                    `;
                    log(`CHÚ Ý: ${scenario.alertType} (${(scenario.confidence * 100).toFixed(0)}%)`, 'warning');
                } else {
                    alertDiv.innerHTML = `
                        <div class="alert-title">✅ ${scenario.alertType}</div>
                        <div class="alert-text">Không phát hiện dấu hiệu lừa đảo</div>
                    `;
                    log('Cuộc gọi an toàn', 'success');
                }

                alertsContainer.appendChild(alertDiv);
            }, 4500);
        }

        // Initialize
        log('Mobile Demo Simulator khởi động', 'success');
        log('Chọn một kịch bản để bắt đầu demo', 'info');
    </script>
</body>

</html>